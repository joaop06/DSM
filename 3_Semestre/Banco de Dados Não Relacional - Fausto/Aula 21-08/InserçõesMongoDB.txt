// Listar os bancos de dados existentes
show dbs;

// Cria um novo BD ou alterna para um já existente
use estoque;

// Cria uma coleção
db.createCollection("produtos")

// Inserindo um produto
db.produtos.insertOne({
    nome: "Vassoura de piaçava",
    preco: 27.80,
    categoria: "Limpeza"
})

// Consultando o item Inserindo
db.produtos.find()

// Outra inserção
db.produtos.insertOne({
    nome: "Café",
    marca: "Dubom",
    quantidade: 500,
    unidade: "g",
    preco: 17.47,
    categoria: "Alimentos e bebidas",
    estoque: 52
})

// Mais uma inserção
db.produtos.insertOne({
    nome_oficial: "República Francesa",
    nome_comum: "França",
    capital: "Paris",
    continente: "Europa",
    chefe_estado: "Emmanuel Macron",
    lingua_oficial: "Francês"
})

// Inserindo documento com subdocumento
db.produtos.insertOne({
    nome: "Biscoito",
    marca: "Crocantão",
    quantidade: 200,
    unidade: "g",
    preco: 4.19,
    categoria: "Alimentos e bebidas",
    estoque: 52,
    fornecedor: {
        nome: "Indústria de Alimentos Bacana S/A",
        cnpj: "01.234.567/0001-89"
    }
})

// Inserindo documento com subdocumento
db.produtos.insertOne({
    nome: "Doce de Leite",
    marca: "Mineirim",
    preco: 15.87,
    fornecedor: {
        nome: "Indústria de Alimentos S/A",
        cnpj: "01.234.567/0001-89"
    }
})


// Listando todos os produtos ordenados por nome (ascendente = 1)
db.produtos.find().sort({nome: 1})

// Listando apenas o produto cujeo o nome é "Café"
db.produtos.find({nome: "Café"})

// Listando todos os produtos fonecidos pelo CNPJ "01.234.567/0001-89"
db.produtos.find({fornecedor.cnpj: "01.234.567/0001-89"})


// Produto com mais de um fornecedor (vetor de subdocumentos)
db.produtos.insertOne({
    nome: "Paçoca",
    marca: "Junina",
    preco: 20.65,
    fornecedor: [
        {
            nome: "Indústria de Alimentos S/A",
            cnpj: "01.234.567/0001-89"
        },
        {
            nome: "Distribuidora de Doces Pingo de Mel Ltda.",
            cnpj: "98.765.432/0001-10"
        }
    ]
})


// Inserção de produto com campo multivalorado
db.produtos.insertOne({
    nome: "Bicarbonato de Sódio",
    marca: "Q-Rende",
    preco: 3.45,
    categoria: [
        "Alimentos e bebidas",
        "Limpeza"
    ],
    fornecedor: {
        nome: "Distribuidora de Doces Pingo de Mel Ltda.",
        cnpj: "98.765.432/0001-10"
    }
})


// Buscando pela categoria "Limpeza"
db.produtos.find({categoria: "Limpeza"})

// Buscando pelos produtos que NÃO fazem parte da categoria "Limpeza"
// Operador $ne = not equal
db.produtos.find({categoria: {$ne: "Limpeza"}})

// Busca pelos produtos cujo preço pe maior que 20.00
// Operador $gt = greater than
db.produtos.find({"preco": {"$gt": 20}})
